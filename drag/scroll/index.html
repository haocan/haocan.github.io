<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style>
		#box{
			width: 50px;
			height: 300px;
			border: 1px solid #000;
			position: relative;
			float: left;
		}
		#bar{
			width: 100%;
			height: 30px;
			background: red;
			position: absolute;
		}
		#box1{
			width: 220px;
			height: 300px;
			border: 1px solid #C0A16B;
			float: left;
			position: relative;
			overflow: hidden;
		}
		#content{
			position: absolute;
		}
	</style>
	<body>
		<div id="box">
			<div id="bar"></div>
		</div>
		<div id="box1">
			<div id="content">朱亚文，1984年4月21日生于江苏省盐城市，中国大陆男演员，2006年毕业于北京电影学院表演系本科。2008年饰演了《闯关东》中的朱传武一角。2011年获第14届上海电影节亚洲新人奖，2012年凭借《远去的飞鹰》入围国际艾美奖最佳男演员。同年在导演娄烨的电影《浮城谜事》中饰演秦枫，2013年在郑晓龙执导的电视剧《红高粱》饰演男主角余占鳌 。2014年在许鞍华导演的电影《黄金时代》中饰演端木蕻良。2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚2013年6月17日，朱亚文与女演员沈佳妮在北京低调完婚</div>
		</div>
	</body>
	<script>
		var box = document.getElementById('box');
		var bar = document.getElementById('bar');
		var box1 = document.getElementById('box1');
		var content = document.getElementById('content');
		var max = box.clientHeight - bar.offsetHeight;
		var innerMax = box1.clientHeight - content.offsetHeight;
		//console.log(innerMax)
		//console.log(content.offsetHeight)
		bar.onmousedown = function(ev){
			var disy = ev.clientY - this.offsetTop;
			document.onmousemove = function(ev){
				var y = ev.clientY - disy;
				if(y<0){
					y=0;
				}
				if(y>max){
					y=max;
				}
				var scale = y/max;
				bar.style.top = y+'px';
				content.style.top = scale*innerMax+'px';
			};
			document.onmouseup = function(){
				this.onmousemove = null;
			}
		}
		mScroll(document,function(ev){
			var z = bar.offsetTop;
			if(z-2<0){
				return
			}
			bar.style.top = z-2+'px';
			var scale = z/max;
			content.style.top = scale*innerMax+'px';
		},function(ev){
			var x = bar.offsetTop
			console.log(x)
			if(x+2>max){
				return
			}
			bar.style.top = x+2+'px';
			var scale = x/max;
			content.style.top = scale*innerMax+'px';
		});
		function mScroll(obj,upper,down){
		obj.addEventListener('DOMMouseScroll', fn, false);
		obj.onmousewheel  = fn;
		function fn(ev){
			var n;
			if(ev.detail){
				n = -ev.detail;
			}else{
				n = ev.wheelDelta;
			}
			if(n<0){
				down();
			}else{
				upper();
			}
		}
	}
	</script>
</html>
