<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			div{
				width: 50px;
				height: 50px;
				border: 1px solid #000;
				background: red;
				position: absolute;
				left: 0;
				top: 0;
				color: #fff;
				line-height: 50px;
				text-align: center;
				font-size: 20px;
			}
		</style>
		<script>
		function showDiv(){
			var status = document.getElementById("status").value;
			var iStatus = Number(status) + 1;
			if(status == 3){
				iStatus = Number(status) -3;
			}
			document.body.innerHTML='<input type="button" id="btn" value="自动生成一个V字形" onclick="showDiv()"/><input type="hidden" id = "status" value = "'+iStatus+'" />';
			var num = 9;
			if(status == 0){
				upward(num);
			}else if(status == 1){
				toRight(num);
			}else if(status == 2){
				down(num);
			}else if(status == 3){
				toLeft(num);
			}
		}
		
		function upward(num){
			var divs=document.getElementsByTagName('div');
			var num = num;
			var min = 0;
			var topValue= (num - 1) /2 *50 +30 ;
			for(var i=0;i<num;i++){
				document.body.innerHTML+='<div>'+i+'</div>';
			}
			for(var i=0;i<divs.length;i++){
				divs[i].style.left=i*50+'px';
			}
			for(var i=0;i<divs.length;i++){
				min = (num - 1)/2;
				if(i > min){
					topValue += 50;
					divs[i].style.top=topValue+'px';
				}else{
					if(i != 0){
						topValue-=50;
					}
					divs[i].style.top=topValue+'px';
				}
			}
		}
		function down(num){
			var divs=document.getElementsByTagName('div');
			var num = num;
			var min = 0;
			var topValue=30;
			for(var i=0;i<num;i++){
				document.body.innerHTML+='<div>'+i+'</div>';
			}
			for(var i=0;i<divs.length;i++){
				divs[i].style.left=i*50+'px';
			}
			for(var i=0;i<divs.length;i++){
				min = (num - 1)/2;
				if(i > min){
					topValue -= 50;
					divs[i].style.top=topValue+'px';
				}else{
					if(i != 0){
						topValue+=50;
					}
					divs[i].style.top=topValue+'px';
				}
			}
		}
		function toLeft(num){
			var divs=document.getElementsByTagName('div');
			var num = num;
			var min = 0;
			var topValue=30;
			var leftValue = (num - 1) / 2 * 50 + 100;
			for(var i=0;i<num;i++){
				document.body.innerHTML+='<div>'+i+'</div>';
			}
			for(var i=0;i<divs.length;i++){
				min = (num - 1) /2;
				if(i <= min){
					leftValue -= 50;
					divs[i].style.left=leftValue+'px';
				}else{
					leftValue += 50;
					divs[i].style.left=leftValue+'px';
				}
				
			}
			for(var i=0;i<divs.length;i++){
				divs[i].style.top=i*50+30+'px';
			}
		}
		function toRight(num){
			var divs=document.getElementsByTagName('div');
			var num = num;
			var min = 0;
			var topValue=30;
			var leftValue = -50;
			for(var i=0;i<num;i++){
				document.body.innerHTML+='<div>'+i+'</div>';
			}
			for(var i=0;i<divs.length;i++){
				min = (num - 1) /2;
				if(i <= min){
					leftValue += 50;
					divs[i].style.left=leftValue+'px';
				}else{
					leftValue -= 50;
					divs[i].style.left=leftValue+'px';
				}
				
			}
			for(var i=0;i<divs.length;i++){
				divs[i].style.top=i*50+30+'px';
			}
			
		}
		</script>
	</head>
	<body>
		<input type="button" id="btn" value="自动生成一个V字形" onclick="showDiv()"/><input type="hidden" id = "status" value = "0" />
	</body>
</html>
